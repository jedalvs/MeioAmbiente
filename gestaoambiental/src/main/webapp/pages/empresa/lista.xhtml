<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html>
<html class="no-js" lang="pt-BR" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<f:view contentType="text/html; charset=ISO-8859-1">

	<ui:composition template="/pages/layout/layout.xhtml">

		<ui:define name="top-bar">
			<ui:include src="/pages/layout/top-bar.xhtml" />
		</ui:define>

		<ui:define name="menu-bar">
			<ui:include src="/pages/layout/menu-bar.xhtml" />
		</ui:define>

		<ui:define name="menu-data">
			<li><p:commandLink ajax="false" styleClass="navbar-link"
					value="Lista de empresa"
					action="#{empresaController.navLista}" /></li>
			<li><p:commandLink ajax="false" styleClass="navbar-link"
					value="Incluir novo" action="#{empresaController.navAdd}" /></li>

		</ui:define>



		<ui:define name="principal">
			<div class="col-lg-12">
				<h1>Cadastro de empresa</h1>
				<hr />

				<div class="panel panel-default">
					<div class="panel-body">
						<h:form id="form-filtro">
							<div class="col-lg-12">
								<label for="contato">Descrição</label>
								<p:inputText id="fantasiaFiltro"
									value="#{empresaController.descricaoFiltro}"
									styleClass="form-control" />
								<br />
							</div>
							<div class="col-lg-12">
								<p:commandButton update=":form-lista"
									actionListener="#{empresaController.carregarLista}"
									value="Pesquisar" styleClass="btn btn-primary" />
							</div>
						</h:form>

					</div>
				</div>

				<hr />

				<h:form id="form-lista" acceptcharset="ISO-8859-1">
					<div class="table-responsive">
						<table class="table table-hover">
							<tr>
								<td>Id</td>
								<td>Descrição</td>
							</tr>

							<ui:repeat var="empresa"
								value="#{empresaController.empresaList}"
								varStatus="status">

								<tr>
									<td>#{empresa.emprId}</td>
									<td><p:commandLink ajax="false" styleClass="navbar-link"
											value="#{empresa.emprNome}"
											action="#{empresaController.navDetalhe}">
											<f:setPropertyActionListener
												target="#{empresaController.empresa}"
												value="#{empresa}" />
										</p:commandLink></td>
								</tr>

							</ui:repeat>

						</table>
					</div>
				</h:form>

			</div>
		</ui:define>

	</ui:composition>

</f:view>
</html>

